apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'
android {
    compileSdkVersion 30
    repositories {
        flatDir {
            dirs 'libs'
        }
    }
    signingConfigs {
        config {
            keyAlias 'client'
            keyPassword 'clientclient'
            storeFile file('../client.jks')
            storePassword 'clientclient'
        }
    }
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = '1.8'
    }
    defaultConfig {
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
        versionCode rootProject.ext.versionCode
        versionName rootProject.ext.versionName
        flavorDimensions "client"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
        javaCompileOptions {
            annotationProcessorOptions {
                arguments = [AROUTER_MODULE_NAME: project.getName()]
            }
        }
        multiDexEnabled true
    }

    buildTypes {
        //正是打包
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.config
            proguardFile './proguard-rules.pro'
            buildConfigField("String", "BASE_URL", "\"https://capi.hanmama.com/cserver/public/\"")
            buildConfigField("String", "CRASHID", "\"bfb74e8130\"")
            buildConfigField("String", "CHANNEL", "\"release\"")
            buildConfigField("int", "versionLib", rootProject.ext.versionLib)
        }
        //测试环境
        check {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.config
            proguardFile './proguard-rules.pro'
            buildConfigField("String", "BASE_URL", "\"http://192.168.10.101:8081/cserver/public/\"")
            buildConfigField("String", "CRASHID", "\"8a0eda61b4\"")
            buildConfigField("String", "CHANNEL", "\"check\"")
            buildConfigField("int", "versionLib", rootProject.ext.versionLib)
        }
        //生产环境
        product {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.config
            proguardFile './proguard-rules.pro'
            buildConfigField("String", "BASE_URL", "\"http://47.111.169.73:7081/cserver/public/\"")
            buildConfigField("String", "CRASHID", "\"ff9a886d93\"")
            buildConfigField("String", "CHANNEL", "\"product\"")
            buildConfigField("int", "versionLib", rootProject.ext.versionLib)
        }
        //一般run
        debug {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.config
            proguardFile './proguard-rules.pro'
            buildConfigField("String", "BASE_URL", "\"https://capi.hanmama.com/cserver/public/\"")
            buildConfigField("String", "CRASHID", "\"a81188f018\"")
            buildConfigField("String", "CHANNEL", "\"debug\"")
            buildConfigField("int", "versionLib", rootProject.ext.versionLib)
        }
    }

}


dependencies {
    api fileTree(include: ['*.jar'], dir: 'libs')
    api project(':res_hmm_library')//hmm图片资源分离库
    api project(':lib-dialog')//dialog
//    api project(':lib-logcat')//logcat
    api project(':lib-matisse')//图片选择器
    api project(':lib-nbguide')//引导
    api project(':lib-viewtooltip')//引导
    api project(':lib-floatwindow')//浮窗
    api project(':lib-MPChart')//图表
    api project(':lib-FlycoTabLayout')//导航tab
    api project(':lib-preventkeyboardblockutil')//软键盘交互
    api project(':lib-setting')//权限控制
    api project(':lib-zxing')//zxing
    api project(':lib-banner')//zxing
    api project(':lib-marquee')//跑马灯
    api project(':lib-permissionutil')//权限控制
    api project(path: ':lib_ShapeView')//形状
    api project(':lib-tinker-android-loader-fix')//热修复适配
    api project(':lib-rxffmpeg')//rxffmpeg
    api project(':lib-consecutivescroller')//consecutivescroller 滑动嵌套
    //---------------------------------------------------------喜马拉雅
//    api(name: 'oaid_sdk_1.0.25', ext: 'aar')//
//    api(name: 'TingPhoneOpenSDK-8.0.8', ext: 'aar')// 有广告 喜玛拉雅
//    api(name: 'TingPhoneOpenSDK-8.0.8-noop', ext: 'aar')// 无广告 喜玛拉雅
//    api(name: 'windAd-3.5.0', ext: 'aar')//
//    api 'com.github.gzu-liyujiang:4.2.3'
//-------------------------------------------------------------原生库
    api "androidx.emoji:emoji:1.0.0"
    api "androidx.emoji:emoji-appcompat:1.0.0"
    api "androidx.emoji:emoji-bundled:1.0.0"
    api "androidx.viewpager2:viewpager2:1.0.0"
    api 'androidx.exifinterface:exifinterface:1.1.0'
    api 'androidx.palette:palette:1.0.0'
    api 'androidx.cardview:cardview:1.0.0'
    api 'com.google.android.material:material:1.0.0'
    api 'androidx.lifecycle:lifecycle-extensions:2.2.0'
    api 'androidx.recyclerview:recyclerview:1.0.0'
    api 'androidx.media:media:1.0.0'
    api 'androidx.legacy:legacy-support-v4:1.0.0'
    api 'androidx.constraintlayout:constraintlayout:1.1.3'
    api 'androidx.multidex:multidex:2.0.0'
    api 'androidx.appcompat:appcompat:1.2.0'
    api 'com.google.android.material:material:1.3.0'
//    debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.7'
    testImplementation 'junit:junit:4.+'
    androidTestImplementation 'androidx.test.ext:junit:1.1.2'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'
    //-------------------------------------------------------------------------
    api "org.jetbrains.anko:anko-commons:$anko_version"
    api "org.jetbrains.anko:anko-design:$anko_version"
    api 'com.github.salomonbrys.kotson:kotson:2.5.0'
    //--------------------------------------------------------------------------
    api 'com.sharetrace:sharetrace-android-sdk:2.1.4'//带参安装
    api 'com.tencent.tbs:tbssdk:44216'//腾讯X5内核
    api group: 'com.amap.api', name: '3dmap', version: '7.4.0'//地图
    api group: 'com.amap.api', name: 'search', version: '7.4.0'//地图搜索
    api group: 'com.amap.api', name: 'location', version: '5.0.0'//地图定位
    api 'me.jessyan:autosize:1.2.1'//屏幕适配
    api 'org.jsoup:jsoup:1.14.1'//jsoup
    api(name: 'shanyan_sdk_v2.3.4.5', ext: 'aar')//一键登录
    api(name: 'alipaySdk-15.6.0-20190226104053', ext: 'aar')//阿里支付
    api 'com.github.liys666666:LProgressView:V1.0.82'  //进度条 主要解决一个水滴
    api 'com.hyman:flowlayout-lib:1.1.2'//标签布局
    api 'com.github.lihangleo2:ShadowLayout:2.1.7'//阴影布局
    api 'com.github.crazyandcoder:citypicker:6.0.2'//城市选择器
    api 'cn.jiguang.sdk:jcore:3.1.2'  // 极光SDK
    api 'cn.jiguang.sdk:jpush:4.5.0'  // 极光SDK
    api 'com.meituan.android.walle:library:1.1.6'//多渠道打包 美团
    api 'com.dilusense.android:customkeyboard:1.1'//身份证键盘
    api 'com.github.czy1121:cornerlabelview:1.0.3'//广告型斜向角标
    api 'com.google.android.flexbox:flexbox:3.0.0'//自动换行的谷歌容器
    api 'com.github.yangjie10930:EpMedia:v1.0.1'//视频剪辑 只使用于裁剪视频到15秒
//    api 'com.github.microshow:RxFFmpeg:4.3.0-lite'// 视频压缩  用的Rxjava 2
    api 'q.rorbin:badgeview:1.1.3'//圆点工具
    api 'com.tencent.bugly:crashreport_upgrade:1.6.1'//腾讯bugly
    api("com.tencent.tinker:tinker-android-lib:$tinker_version") {//腾讯tinker 热修复
        exclude module: 'tinker-android-loader'
    }
    //-----------------------------------------------------------------------------
    api 'io.github.devilsen:czxing:1.1.0'//czxing二维码
    api 'com.squareup.retrofit2:retrofit:2.9.0'
    api 'com.squareup.retrofit2:converter-gson:2.9.0'
    api 'com.squareup.retrofit2:adapter-rxjava3:2.9.0'
    api 'com.squareup.retrofit2:converter-scalars:2.9.0'
    //AutoDispose解决RxJava内存泄漏
    api 'com.uber.autodispose2:autodispose:2.0.0'
    api 'com.uber.autodispose2:autodispose-android:2.0.0'
    api 'com.uber.autodispose2:autodispose-lifecycle:2.0.0'
    api 'com.uber.autodispose2:autodispose-androidx-lifecycle:2.0.0'
    //-----------------------------------------------------------------------------
    api('com.github.bumptech.glide:glide:4.12.0') {//glide图片加载
        exclude group: 'com.android.support'
    }
    api 'jp.wasabeef:glide-transformations:4.3.0'//glide形变支持库
    api 'org.greenrobot:eventbus:3.1.1'//EventBus 事件传递

//    api 'com.scwang.smart.refresh:SmartRefreshLayout:1.1.3'//刷新
//    api 'com.scwang.smart.refresh:SmartRefreshHeader:1.1.3'//刷新头

    // 刷新框架
    api  'com.scwang.smart:refresh-layout-kernel:2.0.1'      //核心必须依赖
    api  'com.scwang.smart:refresh-header-classics:2.0.1'    //经典刷新头
    api  'com.scwang.smart:refresh-header-material:2.0.3'    //谷歌刷新头
    api  'com.scwang.smart:refresh-footer-classics:2.0.1'    //经典加载
    api 'com.alibaba:arouter-api:1.4.1'//阿里路由
    kapt "com.alibaba:arouter-compiler:1.2.2"
    annotationProcessor 'com.alibaba:arouter-compiler:1.2.2'//阿里路由
    api 'com.github.CymChad:BaseRecyclerViewAdapterHelper:2.9.46'// BaseRecyclerViewAdapterHelper
    api 'com.ayvytr:okhttploginterceptor:2.1.0'//okhttp拦截
    api 'com.github.chrisbanes:PhotoView:2.3.0'//照片框
    api 'com.jakewharton:disklrucache:2.0.2'//缓存库
    api('com.alibaba.android:vlayout:1.2.36@aar') {//vlayout 急需找到替代方案
        transitive = true
    }
    //-----------------------------------------------------------------------------
    compile 'com.umeng.umsdk:common:9.4.7'//必选
    compile 'com.umeng.umsdk:asms:1.4.1'//必选谷歌刷新头
    compile 'com.umeng.umsdk:share-core:7.1.7'//分享核心库，必选
    compile 'com.umeng.umsdk:share-board:7.1.7'//分享面板功能，可选
    compile 'com.umeng.umsdk:share-qq:7.1.7'
    compile 'com.umeng.umsdk:share-wx:7.1.7'
    compile 'com.tencent.tauth:qqopensdk:3.51.2'//QQ官方SDK依赖库
    compile 'com.tencent.mm.opensdk:wechat-sdk-android-without-mta:6.8.0'//微信官方SDK依赖库
//    api 'com.tencent.liteavsdk:LiteAVSDK_Professional:+'//直播
    // https://mvnrepository.com/artifact/com.tencent.liteavsdk/LiteAVSDK_Smart
//    api 'com.tencent.liteavsdk:LiteAVSDK_Smart:9.5.11171'
    api 'com.tencent.liteavsdk:LiteAVSDK_Professional:8.5.10034'//直播

    api 'com.tencent.imsdk:imsdk:4.9.1'//IM
    //-----------------------------------------------------------------------------
    compile 'com.tencent:mmkv:1.2.13'//腾讯基于基于 mmap 内存映射的 key-value 组件
    compile 'com.getkeepsafe.relinker:relinker:1.4.3'//本地加载库 MMKV 追加的
    api 'jp.wasabeef:recyclerview-animators:4.0.2'//recyclerview动画库
    api 'com.github.liys666666:DoubleClick:V1.0.4'  //双击禁止库
    api 'com.github.fondesa:recycler-view-divider:3.1.0' //分割线

}
package com.healthy.library.presenter;

import android.content.Context;
import android.text.TextUtils;
import android.util.Log;

import com.amap.api.location.AMapLocation;
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.JsonDeserializationContext;
import com.google.gson.JsonDeserializer;
import com.google.gson.JsonElement;
import com.google.gson.JsonParseException;
import com.google.gson.reflect.TypeToken;
import com.healthy.library.constant.SpKey;
import com.healthy.library.contract.LocVipContract;
import com.healthy.library.message.UpdateUserLocationMsg;
import com.healthy.library.model.HttpTmpResult;
import com.healthy.library.model.LocVip;
import com.healthy.library.net.NoStringObserver;
import com.healthy.library.net.ObservableHelper;
import com.healthy.library.businessutil.ChannelUtil;
import com.healthy.library.businessutil.LocUtil;
import com.healthy.library.utils.ObjUtil;
import com.healthy.library.utils.SpUtils;

import org.greenrobot.eventbus.EventBus;
import org.json.JSONObject;

import java.lang.reflect.Type;
import java.util.Date;
import java.util.List;
import java.util.Map;

/**
 * @author Li
 * @date 2019/03/27 11:37
 * @des
 */

public class LocVipPresenter implements LocVipContract.Presenter {

    private Context mContext;
    private LocVipContract.View mView;

    public LocVipPresenter(Context context, LocVipContract.View view) {
        mContext = context;
        mView = view;
    }
    private LocVip resolveLocVipData(String obj) {
        LocVip result = new LocVip();
        try {
            JSONObject data = new JSONObject(obj).getJSONObject("data");
            String userShopInfoDTOS = data.toString();
            GsonBuilder builder = new GsonBuilder();
            builder.registerTypeAdapter(Date.class, new JsonDeserializer<Date>() {
                public Date deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {
                    return new Date(json.getAsJsonPrimitive().getAsLong());
                }
            });
            Gson gson = builder.create();
            Type type = new TypeToken<LocVip>() {
            }.getType();
            result = gson.fromJson(userShopInfoDTOS, type);
        } catch (Exception e) {
            e.printStackTrace();
        }
        if(result!=null){
            if(result.getAllMerchantWithMe().size()>10){//那基本可以判定为运营模式了 大于10个商户 则开启搜索框
                SpUtils.store(mContext, SpKey.OPERATIONSTATUS, true);
                Log.i("SDT", "自动升级为运营模式");
            }
        }
        return result;
    }

    @Override
    public void getLocVip(Map<String, Object> map) {
        HttpTmpResult httpTmpResult=ObjUtil.getObj(SpUtils.getValue(mContext,"fun100001"),HttpTmpResult.class);
        /**
         *  优化老用户没有品牌名称问题
         */
        if(httpTmpResult!=null){
            LocVip locVip=resolveLocVipData(httpTmpResult.result);
            checkLoc(locVip);
            mView.onSucessGetLocVip(locVip);
            mView.onRequestFinish();
        }else {
            map.put("function", "100001");
            map.put("longitude",LocUtil.getLongitude(mContext,SpKey.LOC_ORG));
            map.put("latitude",LocUtil.getLatitude(mContext,SpKey.LOC_ORG));
            map.put("province", LocUtil.getProvinceNo(mContext, SpKey.LOC_ORG));
            map.put("city", LocUtil.getCityNo(mContext, SpKey.LOC_ORG));
            map.put("district", LocUtil.getAreaNo(mContext, SpKey.LOC_ORG));
            ObservableHelper.createObservable(mContext, map)
                    .subscribe(new NoStringObserver(mView, mContext,
                            false) {
                        @Override
                        protected void onGetResultSuccess(String obj) {
                            super.onGetResultSuccess(obj);
//                            obj="{\"code\":0,\"msg\":\"获取数据成功\",\"data\":{\"local\":{\"province\":\"340000\",\"cityName\":\"合肥市\",\"districtName\":\"瑶海区\",\"city\":\"340100\",\"merchantId\":\"724\",\"partnerName\":\"康婴坊母婴\",\"district\":\"340102\",\"provinceName\":\"安徽省\",\"partnerId\":\"1364390436305620994\",\"merchantsMap\":[{\"districtName\":\"蜀山区\",\"distance\":\"13362\",\"city\":\"340100\",\"shopName\":\"康婴坊社岗路店\",\"addressDetails\":\"安徽省合肥市蜀山区社岗路同济A座小蜗公寓\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【002】社岗路店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"002\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":907,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"17715\",\"city\":\"340100\",\"shopName\":\"康婴坊蜀南庭苑店\",\"addressDetails\":\"安徽省合肥市蜀山区望江西路蜀南庭苑广场\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【003】蜀南庭苑店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"003\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":908,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"15080\",\"city\":\"340100\",\"shopName\":\"康婴坊兴园小区店\",\"addressDetails\":\"安徽省合肥市蜀山区科学大道与海棠路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【005】兴园小区店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"005\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":909,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"14318\",\"city\":\"340100\",\"shopName\":\"康婴坊梦园小区店\",\"addressDetails\":\"安徽省合肥市蜀山区海关路与天柱路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【004】梦园小区店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"004\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":910,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"11840\",\"city\":\"340100\",\"shopName\":\"康婴坊华府骏苑店\",\"addressDetails\":\"安徽省合肥市蜀山区望江路华府商业街中段\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【006】华府骏苑店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"006\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":911,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"20719\",\"city\":\"340100\",\"shopName\":\"康婴坊祥源城店\",\"addressDetails\":\"安徽省合肥市蜀山区创新大道与望江西路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【007】祥源城店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"007\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":912,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"16420\",\"city\":\"340100\",\"shopName\":\"康婴坊禹洲荷园店\",\"addressDetails\":\"安徽省合肥市肥西县入胜路与棋石路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【008】禹州荷园店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"008\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":913,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"市辖区\",\"distance\":\"18015\",\"city\":\"340100\",\"shopName\":\"康婴坊加侨悦山店\",\"addressDetails\":\"安徽省合肥市蜀山区枫林路与田埠西路向南200米\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【009】加侨悦山店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"009\",\"merchantId\":724,\"district\":\"340101\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":914,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"17013\",\"city\":\"340100\",\"shopName\":\"康婴坊稻香路店店\",\"addressDetails\":\"安徽省合肥市蜀山区蜀峰路与稻香路向西100米\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【010】稻香路店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"010\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":915,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"19170\",\"city\":\"340100\",\"shopName\":\"康婴坊禹洲天玺店\",\"addressDetails\":\"安徽省合肥市肥西县祝融路禹洲天玺2期\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【012】禹州天玺店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"012\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":916,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"15740\",\"city\":\"340100\",\"shopName\":\"康婴坊禹洲梅园店\",\"addressDetails\":\"安徽省合肥市肥西县棋石路与石笋路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【013】禹州梅园店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"013\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":917,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"19849\",\"city\":\"340100\",\"shopName\":\"康婴坊畅园小区店\",\"addressDetails\":\"安徽省合肥市蜀山区磨子潭路与创新大道交叉口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【015】畅园店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"015\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":918,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"17105\",\"city\":\"340100\",\"shopName\":\"康婴坊奥园母婴店\",\"addressDetails\":\"安徽省合肥市蜀山区奥园城市天地2F210-213、1007\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【014】奥园店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"014\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":919,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"24926\",\"city\":\"340100\",\"shopName\":\"康婴坊华南城店店\",\"addressDetails\":\"安徽省合肥市肥西县华三路与国四路交叉口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【011】华南城店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"011\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":920,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"10303\",\"city\":\"340100\",\"shopName\":\"康婴坊龙居山庄店\",\"addressDetails\":\"安徽省合肥市蜀山区青阳路与高刘路交叉口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【017】龙居山庄店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"017\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":921,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"18955\",\"city\":\"340100\",\"shopName\":\"康婴坊名门御府店\",\"addressDetails\":\"安徽省合肥市肥西县铭传路与翠竹路交叉口东北角\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【018】名门御府店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"018\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":922,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"17108\",\"city\":\"340100\",\"shopName\":\"婷美摩力21\",\"addressDetails\":\"奥园城市天地二楼\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【016】婷美摩力21（奥园店）\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"016\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":927,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"18734\",\"city\":\"340100\",\"shopName\":\"康婴坊柏堰雅苑店\",\"addressDetails\":\"安徽省合肥市肥西县明珠大道与翠竹路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【001】柏堰雅苑店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"001\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":906,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null}]},\"localOptions\":[{\"province\":\"340000\",\"cityName\":\"合肥市\",\"districtName\":\"瑶海区\",\"city\":\"340100\",\"merchantId\":\"724\",\"partnerName\":\"康婴坊母婴\",\"district\":\"340102\",\"provinceName\":\"安徽省\",\"partnerId\":\"1364390436305620994\",\"merchantsMap\":[{\"districtName\":\"蜀山区\",\"distance\":\"13362\",\"city\":\"340100\",\"shopName\":\"康婴坊社岗路店\",\"addressDetails\":\"安徽省合肥市蜀山区社岗路同济A座小蜗公寓\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【002】社岗路店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"002\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":907,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"17715\",\"city\":\"340100\",\"shopName\":\"康婴坊蜀南庭苑店\",\"addressDetails\":\"安徽省合肥市蜀山区望江西路蜀南庭苑广场\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【003】蜀南庭苑店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"003\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":908,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"15080\",\"city\":\"340100\",\"shopName\":\"康婴坊兴园小区店\",\"addressDetails\":\"安徽省合肥市蜀山区科学大道与海棠路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【005】兴园小区店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"005\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":909,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"14318\",\"city\":\"340100\",\"shopName\":\"康婴坊梦园小区店\",\"addressDetails\":\"安徽省合肥市蜀山区海关路与天柱路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【004】梦园小区店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"004\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":910,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"11840\",\"city\":\"340100\",\"shopName\":\"康婴坊华府骏苑店\",\"addressDetails\":\"安徽省合肥市蜀山区望江路华府商业街中段\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【006】华府骏苑店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"006\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":911,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"20719\",\"city\":\"340100\",\"shopName\":\"康婴坊祥源城店\",\"addressDetails\":\"安徽省合肥市蜀山区创新大道与望江西路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【007】祥源城店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"007\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":912,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"16420\",\"city\":\"340100\",\"shopName\":\"康婴坊禹洲荷园店\",\"addressDetails\":\"安徽省合肥市肥西县入胜路与棋石路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【008】禹州荷园店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"008\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":913,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"市辖区\",\"distance\":\"18015\",\"city\":\"340100\",\"shopName\":\"康婴坊加侨悦山店\",\"addressDetails\":\"安徽省合肥市蜀山区枫林路与田埠西路向南200米\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【009】加侨悦山店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"009\",\"merchantId\":724,\"district\":\"340101\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":914,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"17013\",\"city\":\"340100\",\"shopName\":\"康婴坊稻香路店店\",\"addressDetails\":\"安徽省合肥市蜀山区蜀峰路与稻香路向西100米\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【010】稻香路店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"010\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":915,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"19170\",\"city\":\"340100\",\"shopName\":\"康婴坊禹洲天玺店\",\"addressDetails\":\"安徽省合肥市肥西县祝融路禹洲天玺2期\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【012】禹州天玺店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"012\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":916,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"15740\",\"city\":\"340100\",\"shopName\":\"康婴坊禹洲梅园店\",\"addressDetails\":\"安徽省合肥市肥西县棋石路与石笋路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【013】禹州梅园店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"013\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":917,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"19849\",\"city\":\"340100\",\"shopName\":\"康婴坊畅园小区店\",\"addressDetails\":\"安徽省合肥市蜀山区磨子潭路与创新大道交叉口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【015】畅园店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"015\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":918,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"17105\",\"city\":\"340100\",\"shopName\":\"康婴坊奥园母婴店\",\"addressDetails\":\"安徽省合肥市蜀山区奥园城市天地2F210-213、1007\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【014】奥园店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"014\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":919,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"24926\",\"city\":\"340100\",\"shopName\":\"康婴坊华南城店店\",\"addressDetails\":\"安徽省合肥市肥西县华三路与国四路交叉口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【011】华南城店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"011\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":920,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"10303\",\"city\":\"340100\",\"shopName\":\"康婴坊龙居山庄店\",\"addressDetails\":\"安徽省合肥市蜀山区青阳路与高刘路交叉口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【017】龙居山庄店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"017\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":921,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"18955\",\"city\":\"340100\",\"shopName\":\"康婴坊名门御府店\",\"addressDetails\":\"安徽省合肥市肥西县铭传路与翠竹路交叉口东北角\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【018】名门御府店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"018\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":922,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"蜀山区\",\"distance\":\"17108\",\"city\":\"340100\",\"shopName\":\"婷美摩力21\",\"addressDetails\":\"奥园城市天地二楼\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【016】婷美摩力21（奥园店）\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"016\",\"merchantId\":724,\"district\":\"340104\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":927,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null},{\"districtName\":\"肥西县\",\"distance\":\"18734\",\"city\":\"340100\",\"shopName\":\"康婴坊柏堰雅苑店\",\"addressDetails\":\"安徽省合肥市肥西县明珠大道与翠竹路交口\",\"merchantBrand\":\"康婴坊\",\"ytbDepartName\":\"【001】柏堰雅苑店\",\"merchantName\":\"安徽康婴坊母婴用品有限公司\",\"ytbAppId\":\"01836024\",\"province\":\"340000\",\"cityName\":\"合肥市\",\"ytbDepartID\":\"001\",\"merchantId\":724,\"district\":\"340123\",\"departId\":153,\"provinceName\":\"安徽省\",\"shopId\":906,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/55efe7ff-d2de-42fd-a8c2-119eff25c647.png\",\"departName\":null}]}],\"options\":[{\"province\":\"340000\",\"cityName\":\"六安市\",\"districtName\":\"市辖区\",\"city\":\"341500\",\"merchantId\":\"64\",\"partnerName\":\"爱婴金摇篮\",\"district\":\"341501\",\"provinceName\":\"安徽省\",\"partnerId\":\"1296991286015352834\",\"merchantsMap\":[{\"districtName\":\"霍邱县\",\"distance\":\"104967\",\"city\":\"341500\",\"shopName\":\"霍邱人民医院店\",\"addressDetails\":\"六安市霍邱县第一人民医院\",\"merchantBrand\":null,\"ytbDepartName\":\"【027】霍邱人民医院店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"027\",\"merchantId\":64,\"district\":\"341522\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":461,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"霍邱县\",\"distance\":\"104538\",\"city\":\"341500\",\"shopName\":\"霍邱锦绣城店\",\"addressDetails\":\"城关镇卧阳锦绣城东门\",\"merchantBrand\":null,\"ytbDepartName\":\"【028】霍邱锦绣城店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"028\",\"merchantId\":64,\"district\":\"341522\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":462,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"市辖区\",\"distance\":\"129399\",\"city\":\"341500\",\"shopName\":\"叶集观山路店\",\"addressDetails\":\"六安市叶集区观山路与南海路红绿灯路口\",\"merchantBrand\":null,\"ytbDepartName\":\"【031】叶集观山路店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"031\",\"merchantId\":64,\"district\":\"341501\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":465,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"70824\",\"city\":\"341500\",\"shopName\":\"安徽爱婴金摇篮总部\",\"addressDetails\":\"恒源塑业院内\",\"merchantBrand\":null,\"ytbDepartName\":\"【000】安徽爱婴金摇篮总部\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"000\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":1044,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"霍山县\",\"distance\":\"101502\",\"city\":\"341500\",\"shopName\":\"霍山近春园店\",\"addressDetails\":\"安徽省六安市霍山县南岳东路与磨子潭路交叉路口处门牌号103、104（老体育馆后方）\",\"merchantBrand\":null,\"ytbDepartName\":\"【035】霍山近春园店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"035\",\"merchantId\":64,\"district\":\"341525\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":469,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"霍山县\",\"distance\":\"102083\",\"city\":\"341500\",\"shopName\":\"霍山嘉利星城店\",\"addressDetails\":\"六安市霍山县文盛街33号\",\"merchantBrand\":null,\"ytbDepartName\":\"【036】霍山嘉利星城店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"036\",\"merchantId\":64,\"district\":\"341525\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":470,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"霍山县\",\"distance\":\"103334\",\"city\":\"341500\",\"shopName\":\"霍山小圆盘店\",\"addressDetails\":\"六安市霍山县衡山镇迎驾大道西路89-9号周家大院旁\",\"merchantBrand\":null,\"ytbDepartName\":\"【038】霍山小圆盘店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"038\",\"merchantId\":64,\"district\":\"341525\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":472,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"74388\",\"city\":\"341500\",\"shopName\":\"和谐名城店\",\"addressDetails\":\"和谐名城3#108、109铺\",\"merchantBrand\":null,\"ytbDepartName\":\"【103】和谐名城店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"103\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":924,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"81028\",\"city\":\"341500\",\"shopName\":\"六安市直裕安区保健院便民超市\",\"addressDetails\":\"裕安区平桥乡将军路345号裕安区妇幼金摇篮住院部一楼超市位置\",\"merchantBrand\":null,\"ytbDepartName\":\"【105】六安市直裕安区保健院便民超市\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"105\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":1074,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"78314\",\"city\":\"341500\",\"shopName\":\"六安市直旗舰店\",\"addressDetails\":\"六安市裕安区解放路五牌里皋城商厦一层（102-106室）\\t\\t\",\"merchantBrand\":null,\"ytbDepartName\":\"【001】六安市直旗舰店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"001\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":435,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"76456\",\"city\":\"341500\",\"shopName\":\"六安市直健康路店\",\"addressDetails\":\"六安市皖西路与健康路交叉口向北100米\",\"merchantBrand\":null,\"ytbDepartName\":\"【002】六安市直健康路店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"002\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":436,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"77400\",\"city\":\"341500\",\"shopName\":\"六安市直保健医院店\",\"addressDetails\":\"金安区妇幼保健院\",\"merchantBrand\":null,\"ytbDepartName\":\"【003】六安市直保健医院店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"003\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":437,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"77355\",\"city\":\"341500\",\"shopName\":\"六安市直新都会店\",\"addressDetails\":\"六安市金安区梅山中路256号\",\"merchantBrand\":null,\"ytbDepartName\":\"【004】六安市直新都会店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"004\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":438,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"73393\",\"city\":\"341500\",\"shopName\":\"六安市直东方名城店\",\"addressDetails\":\"六安市经济开发区东方名城C栋1号商铺\",\"merchantBrand\":null,\"ytbDepartName\":\"【005】六安市直东方名城店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"005\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":439,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"81584\",\"city\":\"341500\",\"shopName\":\"六安市直城南店\",\"addressDetails\":\"六安市裕安区城南镇清华家园小区103号商铺\",\"merchantBrand\":null,\"ytbDepartName\":\"【006】六安市直城南店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"006\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":440,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"79010\",\"city\":\"341500\",\"shopName\":\"六安市直龙河路店\",\"addressDetails\":\"六安市裕安区龙河西路鸿地天筑丽景4号楼116铺\",\"merchantBrand\":null,\"ytbDepartName\":\"【007】六安市直龙河路店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"007\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":441,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"77864\",\"city\":\"341500\",\"shopName\":\"六安市直桃园小区店\",\"addressDetails\":\"六安市裕安区桃园小区23号楼105号门面\",\"merchantBrand\":null,\"ytbDepartName\":\"【008】六安市直桃园小区店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"008\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":442,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"74454\",\"city\":\"341500\",\"shopName\":\"六安市直大润发店\",\"addressDetails\":\"六安市金安区银河逸城枫景小区\",\"merchantBrand\":null,\"ytbDepartName\":\"【009】六安市直大润发店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"009\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":443,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"81341\",\"city\":\"341500\",\"shopName\":\"六安市直南河佳苑店\",\"addressDetails\":\"六安市裕安区城南镇南河佳苑36号\",\"merchantBrand\":null,\"ytbDepartName\":\"【010】六安市直南河佳苑店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"010\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":444,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"77689\",\"city\":\"341500\",\"shopName\":\"六安市直太古光华城店\",\"addressDetails\":\"梅山北路太古光华城30栋101-105号商铺\",\"merchantBrand\":null,\"ytbDepartName\":\"【012】六安市直太古光华城店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"012\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":446,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"76566\",\"city\":\"341500\",\"shopName\":\"六安市直碧桂园店\",\"addressDetails\":\"六安市金安区姚李路碧桂园D区109号楼107商铺\",\"merchantBrand\":null,\"ytbDepartName\":\"【013】六安市直碧桂园店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"013\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":447,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"78876\",\"city\":\"341500\",\"shopName\":\"六安市直恒大御景湾店\",\"addressDetails\":\"六安市裕安区恒大御景湾三期9栋117号\",\"merchantBrand\":null,\"ytbDepartName\":\"【014】六安市直恒大御景湾店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"014\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":448,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"78807\",\"city\":\"341500\",\"shopName\":\"六安市直恒生阳光城店\",\"addressDetails\":\"六安市解放路与佛子岭路交汇处恒生阳光城66栋B座9号\",\"merchantBrand\":null,\"ytbDepartName\":\"【015】六安市直恒生阳光城店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"015\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":449,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"77708\",\"city\":\"341500\",\"shopName\":\"六安市直星汇苑店\",\"addressDetails\":\"六安市解放路星汇苑小区102号\",\"merchantBrand\":null,\"ytbDepartName\":\"【016】六安市直星汇苑店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"016\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":450,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"78324\",\"city\":\"341500\",\"shopName\":\"六安市直振华路店\",\"addressDetails\":\"振华东路丽水康城14幢106、206号商铺\",\"merchantBrand\":null,\"ytbDepartName\":\"【109】六安市直振华路店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"109\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":1154,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"75068\",\"city\":\"341500\",\"shopName\":\"六安市直七里站店\",\"addressDetails\":\"六安市七里站城投大厦绿篮子超市一楼\",\"merchantBrand\":null,\"ytbDepartName\":\"【017】六安市直七里站店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"017\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":451,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"79236\",\"city\":\"341500\",\"shopName\":\"六安市直华邦新华城店\",\"addressDetails\":\"六安市裕安区紫竹林路39号\",\"merchantBrand\":null,\"ytbDepartName\":\"【019】六安市直华邦新华城店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"019\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":453,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"金安区\",\"distance\":\"77012\",\"city\":\"341500\",\"shopName\":\"六安市直万达店\",\"addressDetails\":\"六安皋城路万达广场永辉超市后门口\",\"merchantBrand\":null,\"ytbDepartName\":\"【020】六安市直万达店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"020\",\"merchantId\":64,\"district\":\"341502\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":454,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"76298\",\"city\":\"341500\",\"shopName\":\"六安市直明月港湾店\",\"addressDetails\":\"六安市金安区解放北路与长安路交汇处\\t\\t\",\"merchantBrand\":null,\"ytbDepartName\":\"【021】六安市直明月港湾店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"021\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":455,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"裕安区\",\"distance\":\"76953\",\"city\":\"341500\",\"shopName\":\"六安市直新安镇店\",\"addressDetails\":\"六安市裕安区新安中学向北100米\\t\",\"merchantBrand\":null,\"ytbDepartName\":\"【022】六安市直新安镇店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"六安市\",\"ytbDepartID\":\"022\",\"merchantId\":64,\"district\":\"341503\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":456,\"merchantLogoUrl\":null,\"departName\":null}]},{\"province\":\"340000\",\"cityName\":\"阜阳市\",\"districtName\":\"市辖区\",\"city\":\"341200\",\"merchantId\":\"64\",\"partnerName\":\"爱婴金摇篮\",\"district\":\"341201\",\"provinceName\":\"安徽省\",\"partnerId\":\"1296991286015352834\",\"merchantsMap\":[{\"districtName\":\"市辖区\",\"distance\":\"164671\",\"city\":\"341200\",\"shopName\":\"阜阳商厦南门店\",\"addressDetails\":\"阜阳市颍泉区颍河西路71号\",\"merchantBrand\":null,\"ytbDepartName\":\"【025】阜阳商厦南门店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"阜阳市\",\"ytbDepartID\":\"025\",\"merchantId\":64,\"district\":\"341201\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":459,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"市辖区\",\"distance\":\"167031\",\"city\":\"341200\",\"shopName\":\"阜阳香格里拉店\",\"addressDetails\":\"阜阳市汽车西站对面夜市路口漂亮宝贝店\",\"merchantBrand\":null,\"ytbDepartName\":\"【026】阜阳香格里拉店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"阜阳市\",\"ytbDepartID\":\"026\",\"merchantId\":64,\"district\":\"341201\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":460,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"颍州区\",\"distance\":\"165327\",\"city\":\"341200\",\"shopName\":\"阜阳柳林路碧桂园店\",\"addressDetails\":\"文峰街道淮河路1800号\",\"merchantBrand\":null,\"ytbDepartName\":\"【099】阜阳碧桂园柳林路店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"阜阳市\",\"ytbDepartID\":\"099\",\"merchantId\":64,\"district\":\"341202\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":923,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"颍泉区\",\"distance\":\"165559\",\"city\":\"341200\",\"shopName\":\"阜阳友好医院店\",\"addressDetails\":\"阜阳市颍泉区中市办慧湖路88号中央豪景小区3号楼109室（友好医院东50米）\",\"merchantBrand\":null,\"ytbDepartName\":\"【023】阜阳友好医院店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"阜阳市\",\"ytbDepartID\":\"023\",\"merchantId\":64,\"district\":\"341204\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":457,\"merchantLogoUrl\":null,\"departName\":null},{\"districtName\":\"市辖区\",\"distance\":\"165183\",\"city\":\"341200\",\"shopName\":\"阜阳宝龙广场店\",\"addressDetails\":\"阜阳市淮河路与中清路交叉口宝龙广场（仁和医院西面对面）\",\"merchantBrand\":null,\"ytbDepartName\":\"【024】阜阳宝龙广场店\",\"merchantName\":\"六安市裕安区爱婴金摇篮母婴用品超市\",\"ytbAppId\":\"30478240\",\"province\":\"340000\",\"cityName\":\"阜阳市\",\"ytbDepartID\":\"024\",\"merchantId\":64,\"district\":\"341201\",\"departId\":28,\"provinceName\":\"安徽省\",\"shopId\":458,\"merchantLogoUrl\":null,\"departName\":null}]}],\"demonstration\":[{\"province\":\"320000\",\"cityName\":\"苏州市\",\"districtName\":\"姑苏区\",\"city\":\"320500\",\"merchantId\":\"2\",\"partnerName\":\"婷美金山店\",\"district\":\"320508\",\"provinceName\":\"江苏省\",\"partnerId\":\"1290244249785827329\",\"merchantsMap\":[{\"districtName\":\"姑苏区\",\"distance\":\"299117\",\"city\":\"320500\",\"shopName\":\"宝贝乐母婴生活馆（市区店）\",\"addressDetails\":\"人民路1019号\",\"merchantBrand\":\"苏州宝贝乐新母婴\",\"ytbDepartName\":\"【006】宝贝乐母婴生活馆（金山店）\",\"merchantName\":\"苏州宝贝乐母婴\",\"ytbAppId\":\"12345678\",\"province\":\"320000\",\"cityName\":\"苏州市\",\"ytbDepartID\":\"006\",\"merchantId\":2,\"district\":\"320508\",\"provinceName\":\"江苏省\",\"shopId\":167,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/198cce4f-77c3-4863-8d03-d5e403f4ea90.png\"}]},{\"province\":\"320000\",\"cityName\":\"苏州市\",\"districtName\":\"虎丘区\",\"city\":\"320500\",\"merchantId\":\"2\",\"partnerName\":\"婷美金山店\",\"district\":\"320505\",\"provinceName\":\"江苏省\",\"partnerId\":\"1290244249785827329\",\"merchantsMap\":[{\"districtName\":\"虎丘区\",\"distance\":\"293172\",\"city\":\"320500\",\"shopName\":\"宝贝乐母婴生活馆（虎丘店）\",\"addressDetails\":\"塔园路220号\",\"merchantBrand\":\"苏州宝贝乐新母婴\",\"ytbDepartName\":\"【005】宝贝乐母婴生活馆（虎丘店）\",\"merchantName\":\"苏州宝贝乐母婴\",\"ytbAppId\":\"12345678\",\"province\":\"320000\",\"cityName\":\"苏州市\",\"ytbDepartID\":\"005\",\"merchantId\":2,\"district\":\"320505\",\"provinceName\":\"江苏省\",\"shopId\":548,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/198cce4f-77c3-4863-8d03-d5e403f4ea90.png\"}]},{\"province\":\"320000\",\"cityName\":\"苏州市\",\"districtName\":\"相城区\",\"city\":\"320500\",\"merchantId\":\"2\",\"partnerName\":\"婷美金山店\",\"district\":\"320507\",\"provinceName\":\"江苏省\",\"partnerId\":\"1290244249785827329\",\"merchantsMap\":[{\"districtName\":\"相城区\",\"distance\":\"298376\",\"city\":\"320500\",\"shopName\":\"宝贝乐母婴生活馆（相城店）\",\"addressDetails\":\"相城大道1168号\",\"merchantBrand\":\"苏州宝贝乐新母婴\",\"ytbDepartName\":\"【008】宝贝乐母婴生活馆（相城店）\",\"merchantName\":\"苏州宝贝乐母婴\",\"ytbAppId\":\"12345678\",\"province\":\"320000\",\"cityName\":\"苏州市\",\"ytbDepartID\":\"008\",\"merchantId\":2,\"district\":\"320507\",\"provinceName\":\"江苏省\",\"shopId\":561,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/198cce4f-77c3-4863-8d03-d5e403f4ea90.png\"}]},{\"province\":\"320000\",\"cityName\":\"苏州市\",\"districtName\":\"吴江区\",\"city\":\"320500\",\"merchantId\":\"2\",\"partnerName\":\"婷美金山店\",\"district\":\"320509\",\"provinceName\":\"江苏省\",\"partnerId\":\"1290244249785827329\",\"merchantsMap\":[{\"districtName\":\"吴江区\",\"distance\":\"305120\",\"city\":\"320500\",\"shopName\":\"宝贝乐母婴生活馆（吴江店）\",\"addressDetails\":\"开平路2299号 \",\"merchantBrand\":\"苏州宝贝乐新母婴\",\"ytbDepartName\":\"【003】宝贝乐母婴生活馆（吴江店）\",\"merchantName\":\"苏州宝贝乐母婴\",\"ytbAppId\":\"12345678\",\"province\":\"320000\",\"cityName\":\"苏州市\",\"ytbDepartID\":\"003\",\"merchantId\":2,\"district\":\"320509\",\"provinceName\":\"江苏省\",\"shopId\":560,\"merchantLogoUrl\":\"http://hmm-public.oss-cn-beijing.aliyuncs.com/merchant-user-dev/images/198cce4f-77c3-4863-8d03-d5e403f4ea90.png\"}]}]}}";
                            LocVip locVip=resolveLocVipData(obj);
                            checkLoc( locVip);
                            SpUtils.store(mContext,"fun100001",new Gson().toJson(new HttpTmpResult(System.currentTimeMillis(), obj)));
                            mView.onSucessGetLocVip(locVip);
                        }

                        @Override
                        protected void onFailure() {
                            super.onFailure();
                            mView.onSucessGetLocVip(null);
                        }

                        @Override
                        protected void onFinish() {
                            super.onFinish();
                            mView.onRequestFinish();
                        }
                    });
        }

    }

    private void checkLoc(LocVip locVip) {
        if (TextUtils.isEmpty(SpUtils.getValue(mContext, SpKey.CHOSE_SHOP))) {
            if(locVip !=null){
                List<LocVip.Local.MerchantsShop> shopList = locVip.getAllMerchantShopWithMe();
                //System.out.println("默认选一个:" + shopList.get(0).getAddressDetails());
                AMapLocation aMapLocation = LocUtil.getLocationBean(mContext, SpKey.LOC_CHOSE);
                if (aMapLocation == null) {
                    aMapLocation = new AMapLocation("location");
                }
                aMapLocation.setAdCode(locVip.getAllMerchantWithMe().get(0).getNearShop().district);//默认市级加5 得到模糊区县
                aMapLocation.setProvince(locVip.getAllMerchantWithMe().get(0).getNearShop().provinceName);
                aMapLocation.setCity(locVip.getAllMerchantWithMe().get(0).getNearShop().cityName);
                aMapLocation.setDistrict(locVip.getAllMerchantWithMe().get(0).getNearShop().districtName);
                LocUtil.storeLocationChose(mContext, aMapLocation);
                LocUtil.setNowShop(shopList.get(0));
                EventBus.getDefault().post(new UpdateUserLocationMsg());
            }
        }
    }
}